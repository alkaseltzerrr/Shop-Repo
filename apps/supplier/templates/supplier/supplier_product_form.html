{% extends 'base.html' %}

{% comment %} templates/transaction_buy.html {% endcomment %}

{% block title %}Transactions - Sales Management System{% endblock %}

{% block content %}
<div class="p-8">
    <h1 class="text-3xl font-bold mb-8">Transactions</h1>

    <!--Navigation-->
    <div class="mb-6 border-b">
        <nav class="flex gap-8">
            <a href="{% url 'buy' %}" class="pb-4 {% if request.path == '/buy/' %}text-blue-600 border-b-2 border-blue-600 font-medium{% else %}text-gray-500 hover:text-blue-600{% endif %}">
                Buy
            </a>
            <a href="{% url 'sell' %}" class="pb-4 {% if request.path == '/sell/' %}text-blue-600 border-b-2 border-blue-600 font-medium{% else %}text-gray-500 hover:text-blue-600{% endif %}">
                Sell
            </a>
            <a href="{% url 'history' %}" class="pb-4 {% if request.path == '/history/' %}text-blue-600 border-b-2 border-blue-600 font-medium{% else %}text-gray-500 hover:text-blue-600{% endif %}">
                History
            </a>
        </nav>
    </div>

    <!-- Form -->
    <div class="max-w-2xl bg-white rounded-lg shadow-sm p-8">
        <h2 class="text-2xl font-semibold mb-8">Buy Items</h2>
        
        <form method="post" class="space-y-8">
            {% csrf_token %}
            
            <!-- Supplier Section -->
            <div class="space-y-4">
                <h3 class="text-lg font-medium text-gray-700">Supplier</h3>
                <div class="space-y-4">
                    <div>
                        {{ supplier_form.SupplierName.errors }}
                        <input type="text" name="{{ supplier_form.SupplierName.name }}" {% if supplier_form.SupplierName.value %}value="{{ supplier_form.SupplierName.value }}"{% endif %} class="w-full px-4 py-2 rounded bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0" placeholder="Name">
                    </div>
                    <div>
                        {{ supplier_form.ContactInformation.errors }}
                        <input type="text" name="{{ supplier_form.ContactInformation.name }}" {% if supplier_form.ContactInformation.value %}value="{{ supplier_form.ContactInformation.value }}"{% endif %} class="w-full px-4 py-2 rounded bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0" placeholder="Phone Number">
                    </div>
                    <div>
                        {{ supplier_form.Address.errors }}
                        <input type="text" name="{{ supplier_form.Address.name }}" {% if supplier_form.Address.value %}value="{{ supplier_form.Address.value }}"{% endif %} class="w-full px-4 py-2 rounded bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0" placeholder="Address">
                    </div>
                </div>
            </div>

            <div class="border-t my-8"></div>

            <!-- Product Section -->
            <div class="space-y-4">
                <h3 class="text-lg font-medium text-gray-700">Product</h3>
                <div class="space-y-4">
                    <div>
                        {{ product_form.productName.errors }}
                        <input type="text" name="{{ product_form.productName.name }}" {% if product_form.productName.value %}value="{{ product_form.productName.value }}"{% endif %} class="w-full px-4 py-2 rounded bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0" placeholder="Product Name">
                    </div>
                    <div>
                        {{ product_form.description.errors }}
                        <textarea name="{{ product_form.description.name }}" class="w-full px-4 py-2 rounded bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0" placeholder="Description">{% if product_form.description.value %}{{ product_form.description.value }}{% endif %}</textarea>
                    </div>
                    <div>
                        {{ product_form.price.errors }}
                        <input type="number" name="{{ product_form.price.name }}" {% if product_form.price.value %}value="{{ product_form.price.value }}"{% endif %} class="w-full px-4 py-2 rounded bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0" placeholder="Price">
                    </div>
                    <div>
                        {{ product_form.expireyDate.errors }}
                        <input type="date" name="{{ product_form.expireyDate.name }}" {% if product_form.expireyDate.value %}value="{{ product_form.expireyDate.value|date:'Y-m-d' }}"{% endif %} class="w-full px-4 py-2 rounded bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0" placeholder="Expiry Date">
                    </div>
                    <div>
                        {{ product_form.categoryID.errors }}
                        {{ product_form.categoryID }}
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-center mt-8">
                <button type="submit" class="px-8 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                    Buy
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}